var quote_dom = $("#quote_<%= @quote_dom_id %>");

var previous_aggregate_votes = parseInt(quote_dom.find(".aggregate_vote_count").html());

<% if @remove_like %>
    var previous_likes = parseInt(quote_dom.find(".like_count").html());

    quote_dom.find(".like_count").html(--previous_likes);

    quote_dom.find(".like_form_parent").html("<%= escape_javascript(render('likes/like', quote: @quote)) %>");

    quote_dom.find(".aggregate_vote_count").html(previous_aggregate_votes - 2);
<% else %>
    quote_dom.find(".aggregate_vote_count").html(--previous_aggregate_votes);
<% end %>

var previous_dislikes = parseInt(quote_dom.find(".dislike_count").html());

quote_dom.find(".dislike_count").html(++previous_dislikes);

quote_dom.find(".dislike_form_parent").html("<%= escape_javascript(render('dislikes/destroy_dislike', quote: @quote)) %>");